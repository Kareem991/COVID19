<div class="container mt-4" style="text-align: center;">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <h1 class="p-2" style="color: #77C02F;">COVID-19 Hub</h1>
      <button (click)="getStats()" class="btn custom">View Stats</button>
    </div>
  </div>
  <div class="row mt-5" style="text-align: center;">
    <div class="col-md-6 offset-md-3">
      <ngx-loading [show]="api.loading" [config]="{ backdropBorderRadius: '3px' }"></ngx-loading>
    </div>
  </div>
  <div class="row" *ngIf="api.data.length > 0">
    <div class="col">
      <div class="dropdown show mb-2" style ="text-align: left;">
        <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Sort By:
        </a>
        <div style="cursor: pointer;" class="dropdown-menu" aria-labelledby="dropdownMenuLink">
          <a class="dropdown-item" (click)="onSortBy('Alphabet')">Alphabet</a>
          <a class="dropdown-item" (click)="onSortBy('Cases')">Cases</a>
          <a class="dropdown-item" (click)="onSortBy('Deaths')">Deaths</a>
          <a class="dropdown-item" (click)="onSortBy('NewCases')">New Cases</a>
          <a class="dropdown-item" (click)="onSortBy('NewDeaths')">New Deaths</a>
        </div>
      </div>
      <table class="table table-hover table-dark table-bordered">
        <thead class="thead-dark">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Country</th>
            <th scope="col">Cases</th>
            <th scope="col">Deaths</th>
            <th scope="col">New Cases</th>
            <th scope="col">New Deaths</th>

          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of api.sorted; let i = index">
            <th><a [routerLink]= "['/'+item['country_name']]">{{i+1}}</a></th>
            <th><a [routerLink]= "['/'+item['country_name']]">{{item['country_name']}}</a></th>
            <th><a [routerLink]= "['/'+item['country_name']]">{{item['cases']}}</a></th>
            <th><a [routerLink]= "['/'+item['country_name']]" >{{item['deaths']}}</a></th>
            <th><a [routerLink]= "['/'+item['country_name']]" >{{item['new_cases']}}</a></th>
            <th><a [routerLink]= "['/'+item['country_name']]" >{{item['new_deaths']}}</a></th>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

